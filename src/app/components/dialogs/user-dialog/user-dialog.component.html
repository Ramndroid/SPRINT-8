<div mat-dialog-content class="signup bg-dark">

    <div class="flex-row flex-justify-end">
        <button style="opacity: 0;"></button>
        <button mat-dialog-close class="btn-laser"></button>
    </div>

    <div class="flex-col flex-center mb-42">
        <img class="signup-logo">
    </div>

    <h2 class="t-upper t-center f-regular fs-3 fc-yellow mb-30">{{ title }}</h2>

    <ng-container *ngIf="isNewUser == true else login">

        <form [formGroup]="signupForm" class="flex-col gap-s" (ngSubmit)="createNewUser(signupForm.value)">

            <input formControlName="username" type="text" placeholder="Username"
                class="signup-input fs-2 mx-20 mb-10 p-10">

            <div *ngIf="signupForm.get('username')?.hasError('required') 
                        && signupForm.get('username')?.touched " class="fc-red mx-20 mb-10">Please enter a name.</div>

            <input formControlName="email" type="email" placeholder="Email Address"
                class="signup-input fs-2 mx-20 mb-10 p-10">

            <div *ngIf="signupForm.get('email')?.hasError('email') 
                        && signupForm.get('email')?.touched " class="fc-red mx-20 mb-10">Please enter your email
                address.</div>

            <ng-container *ngIf="alertNewUserAlreadyExists">
                <div class="fc-red mx-20 mb-10">There is already a user
                    with this email.</div>
            </ng-container>
            <input [type]="fieldTextType ? 'text' : 'password'" formControlName="password" type="password"
                placeholder="Password" class="signup-input fs-2 mx-20 p-10">

            <div *ngIf="signupForm.get('password')?.hasError('required') 
                        && signupForm.get('password')?.touched " class="fc-red mx-20 mb-10">Please enter a password.
            </div>

            <div class="flex-row mx-20">
                <input type="checkbox" (click)="toggleFieldTextType()">
                <span class="fc-silver ms-10 fs-1">Show password</span>
            </div>

            <div class="flex-row mx-20 mt-30 mb-30">
                <input type="checkbox">
                <span class="fc-silver t-justify t-center ms-10 fs-2">Yes! I would like to receive by email special
                    offers and updates about Lucasfilm Ltd. and other products and services from
                    <a href="https://privacy.thewaltdisneycompany.com/en/definitions/#The-Walt-Disney-Family-of-Companies"
                        target="_blank" class="fc-yellow">The Walt Disney Family of Companies</a> .</span>
            </div>

            <div class="mx-20 mb-30">
                <span class="fc-silver t-justify t-center fs-2">By creating an account, you agree to our <a
                        href="https://disneytermsofuse.com/english/" target="_blank" class="fc-yellow">Terms of Use</a>
                    and acknowledge that you have read our <a
                        href="https://privacy.thewaltdisneycompany.com/en/current-privacy-policy/" target="_blank"
                        class="fc-yellow">Privacy Policy</a>, <a
                        href="https://privacy.thewaltdisneycompany.com/en/current-privacy-policy/cookies-policy/"
                        target="_blank" class="fc-yellow">Cookies Policy</a> and <a
                        href="https://privacy.thewaltdisneycompany.com/en/current-privacy-policy/privacy-notice/"
                        target="_blank" class="fc-yellow">EU Privacy Rights</a>.</span>
            </div>

            <button [disabled]="signupForm.invalid" type="submit" class="btn-grey fs-2 mx-20">Create Account</button>

            <div class="flex-row flex-center mx-20">
                <span class="fc-silver mt-10 mb-30 fs-2">Already have an account? <a class="fc-yellow pointer"
                        (click)="viewLogIn()">Sign In</a></span>
            </div>

        </form>

    </ng-container>
</div>


<ng-template #login>
    <form [formGroup]="loginForm" class="flex-col gap-s" (ngSubmit)="logUser(loginForm.value)">

        <input formControlName="email" type="email" placeholder="Email Address"
            class="signup-input fs-2 mx-20 mb-10 p-10">

        <ng-container *ngIf="alertLogUser == 1">
            <div class="fc-red mx-20 mb-10">The user doesn't exists.</div>
        </ng-container>

        <div *ngIf="loginForm.get('email')?.hasError('required') && loginForm.get('email')?.touched"
            class="fc-red mx-20 mb-10">Required</div>

        <input formControlName="password" type="password" placeholder="Password"
            class="signup-input fs-2 mx-20 mb-10 p-10">

        <ng-container *ngIf="alertLogUser == 2">
            <div class="fc-red mx-20 mb-10">Incorrect password.</div>
        </ng-container>

        <div *ngIf="loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched"
            class="fc-red mx-20 mb-10">Required</div>

        <button type="submit" class="btn-grey fs-2 mx-20">Sign In</button>

        <button class="btn-star fs-2 mt-20 mx-20" (click)="viewSignUp()">Create Account</button>

    </form>
</ng-template>